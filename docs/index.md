# PENIN-Î© â€” Lemniscata âˆ Auto-Evolution System

<div class="hero">
  <h1>ğŸŒŸ IAÂ³ Framework</h1>
  <p><strong>InteligÃªncia Adaptativa Autorecursiva Autoevolutiva Autoconsciente Autosuficiente</strong></p>
  <p>World's First Open-Source Self-Evolving AI with Mathematical Guarantees & Ethical Fail-Closed Gates</p>
</div>

---

## What is IAÂ³?

**PENIN-Î©** implements the convergence of **five fundamental AI capabilities** that collectively define **IAÂ³** (IA ao cubo):

<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem; margin: 2rem 0;">
  <div class="metric-card">
    <div class="metric-label">ğŸ§¬ Auto-Recursive</div>
    <p>System that modifies its own architecture and parameters through the <strong>Master Equation</strong></p>
  </div>
  
  <div class="metric-card">
    <div class="metric-label">ğŸ”„ Self-Evolving</div>
    <p>Champion-challenger evolution with <strong>CAOS+ amplification</strong> and mathematical guarantees</p>
  </div>
  
  <div class="metric-card">
    <div class="metric-label">ğŸ§  Self-Aware</div>
    <p>Operational self-reflection via <strong>SR-Î©âˆ</strong> with metacognitive reasoning</p>
  </div>
  
  <div class="metric-card">
    <div class="metric-label">ğŸ›¡ï¸ Ethically Bounded</div>
    <p>Fail-closed gates (<strong>Î£EA/LO-14</strong>) that block violations automatically</p>
  </div>
  
  <div class="metric-card">
    <div class="metric-label">ğŸ“Š Auditable</div>
    <p><strong>WORM ledger</strong>, Proof-Carrying Artifacts (PCAg), cryptographic proofs</p>
  </div>
</div>

---

## Quick Stats

<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin: 2rem 0;">
  <div class="metric-card">
    <div class="metric-value">15</div>
    <div class="metric-label">Mathematical Equations</div>
  </div>
  
  <div class="metric-card">
    <div class="metric-value">3</div>
    <div class="metric-label">SOTA Integrations (P1)</div>
  </div>
  
  <div class="metric-card">
    <div class="metric-value">57</div>
    <div class="metric-label">Tests Passing (100%)</div>
  </div>
  
  <div class="metric-card">
    <div class="metric-value">14</div>
    <div class="metric-label">Ethical Laws (LO-14)</div>
  </div>
</div>

---

## Features

### Core Capabilities

- **ğŸ§¬ Auto-Evolution Engine**: Self-improving via Master Equation with CAOS+ boost (3.9Ã— amplification)
- **ğŸ›¡ï¸ Î£-Guard**: Fail-closed security gates with non-compensatory validation (harmonic mean)
- **ğŸ“Š SR-Î©âˆ Service**: Self-reflection scoring with continuous assessment (4 dimensions)
- **ğŸ† ACFA League**: Shadow/Canary deployment orchestration with automatic rollback
- **ğŸ“ WORM Ledger**: Write-Once-Read-Many audit trail with Merkle chain
- **ğŸ” Ethics Metrics**: ECE â‰¤ 0.01, bias ratios Ï_bias â‰¤ 1.05, fairness scores
- **ğŸ”Œ Multi-Provider Router**: Cost-aware LLM routing (OpenAI, Anthropic, Gemini, Grok, Mistral, Qwen)
- **ğŸ“ˆ Observability**: Prometheus + Grafana + Loki + Tempo (full stack)

### SOTA Integrations (Priority 1 â€” Complete âœ…)

#### NextPy - Autonomous Modifying System (AMS)
- **Capability**: First framework enabling AI systems to modify architecture at runtime
- **Performance**: 4-10Ã— improvement via compile-time prompt optimization
- **Status**: <span class="badge badge-success">âœ… Complete (9 tests)</span>

#### Metacognitive-Prompting (NAACL 2024)
- **Capability**: 5-stage metacognitive reasoning (Understanding â†’ Judgment â†’ Evaluation â†’ Decision â†’ Confidence)
- **Performance**: Significant improvements across 5 major LLMs
- **Status**: <span class="badge badge-success">âœ… Complete (17 tests)</span>

#### SpikingJelly (Science Advances)
- **Capability**: Spiking Neural Networks with 11Ã— training acceleration
- **Performance**: 69% sparsity, 1% energy consumption (neuromorphic computing)
- **Status**: <span class="badge badge-success">âœ… Complete (11 tests)</span>

---

## Quick Start

### Installation

```bash
# Clone repository
git clone https://github.com/danielgonzagat/peninaocubo.git
cd peninaocubo

# Install core + SOTA P1 integrations
pip install -e ".[nextpy,metacog,spikingjelly]"
```

### 60-Second Demo

```bash
python3 examples/demo_60s_complete.py
```

**Output**:
```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   PENIN-Î© â€” Lemniscata âˆ Auto-Evolution System              â•‘
â•‘   IAÂ³: Adaptive â€¢ Auto-Recursive â€¢ Self-Evolving â€¢ Aware    â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Phase 1: Initialization
âœ“ Master state initialized
âœ“ NextPy AMS: initialized
âœ“ Metacognitive-Prompting: initialized
âœ“ SpikingJelly: initialized

Phase 2: Auto-Evolution Cycles (5 cycles)
â•â•â• Cycle 1/5 â•â•â•
  Lâˆ: 0.7828  Î”Lâˆ: +0.0500
  CAOS+: 3.9045 (C=0.60, A=0.50, O=1.00, S=0.70)
  SR-Î©âˆ: 0.8668
  Decision: PROMOTED

Phase 3: Summary
â€¢ Improvement: +7.85%
âœ“ All ethical gates (Î£EA/LO-14) validated
```

### Basic Usage

```python
from penin.engine.master_equation import MasterState, step_master
from penin.engine.caos_plus import compute_caos_plus
from penin.math.linf import linf_score
from penin.integrations.metacognition import MetacognitiveReasoner

# Initialize
state = MasterState(I=0.0)
reasoner = MetacognitiveReasoner()
reasoner.initialize()

# Evolution step
metrics = {"accuracy": 0.85, "robustness": 0.78, "calibration": 0.90}
weights = {"accuracy": 2.0, "robustness": 1.5, "calibration": 1.0}

linf = linf_score(metrics, weights, cost=0.1)
caos_plus = compute_caos_plus(C=0.8, A=0.5, O=0.7, S=0.9, kappa=20.0)
alpha = 0.1 * caos_plus

state = step_master(state, delta_linf=linf, alpha_omega=alpha)

# Metacognitive decision
decision = await reasoner.reason(
    "Should we promote this model?",
    stages=["understanding", "judgment", "decision"],
    context={"metrics": metrics}
)

print(f"Decision: {decision['decision']} (confidence: {decision['confidence_calibrated']:.3f})")
```

---

## Mathematical Foundation

<div class="equation-block">
  <div class="title">Master Equation (Penin Equation)</div>
  <p>
    $$ I_{n+1} = f(I_n, E_n, P_n) = \Pi_{H\cap S}\big[I_n + \alpha_n \cdot G(I_n,E_n;P_n)\big] $$
  </p>
  <p>AutoevoluÃ§Ã£o recursiva com projeÃ§Ã£o em espaÃ§o tÃ©cnico-Ã©tico seguro</p>
</div>

<div class="equation-block">
  <div class="title">Lâˆ Meta-Function (Non-Compensatory)</div>
  <p>
    $$ L_\infty = \frac{1}{\sum_j \frac{w_j}{\max(\varepsilon, m_j)}} \cdot e^{-\lambda_c \text{Cost}} \cdot \mathbf{1}_{\Sigma EA \land IR\to IC} $$
  </p>
  <p>AgregaÃ§Ã£o harmÃ´nica ponderada - dimensÃ£o pior domina (anti-Goodhart)</p>
</div>

<div class="equation-block">
  <div class="title">CAOS+ Motor (Amplification)</div>
  <p>
    $$ \text{CAOS}^+ = (1 + \kappa \cdot C \cdot A)^{O \cdot S} $$
  </p>
  <p>ConsistÃªncia, AutoevoluÃ§Ã£o, IncognoscÃ­vel, SilÃªncio (Îº â‰¥ 20)</p>
</div>

[â†’ See all 15 equations](guides/PENIN_OMEGA_COMPLETE_EQUATIONS_GUIDE.md)

---

## Security & Ethics

### Fail-Closed Design

All gates default to **safe state** on errors:

- âŒ Violation detected â†’ Automatic rollback
- âŒ Uncertainty > threshold â†’ Reject promotion
- âŒ Ethics check failed â†’ Block execution

### Non-Compensatory Ethics (Î£EA/LO-14)

Uses **harmonic mean** (Lâˆ) so **worst dimension dominates**:

- High accuracy **CANNOT** compensate low privacy
- Good performance **CANNOT** compensate ethical violations
- Mathematical guarantee: `Lâˆ â‰¤ min(all dimensions)`

### Contratividade (IRâ†’IC)

Risk reduction guarantee: **Ï < 1**

- Each evolution **must reduce** information risk
- Measured across multiple risk classes (idolatry, harm, privacy)
- Enforced by Î£-Guard gates

---

## Architecture Overview

```mermaid
graph TB
    A[Master Equation] --> B[CAOS+ Motor]
    B --> C[SR-Î©âˆ Self-Reflection]
    C --> D[Î£-Guard Gates]
    D --> E{Ethical?}
    E -->|Yes| F[ACFA League]
    E -->|No| G[Rollback]
    F --> H[Champion vs Challenger]
    H --> I[WORM Ledger]
    I --> J[Production]
    G --> K[Audit]
```

[â†’ See detailed architecture](architecture.md)

---

## Observability

### Metrics (Prometheus)

- `penin_delta_linf` â€” Lâˆ score evolution
- `penin_caos_plus` â€” CAOS+ amplification
- `penin_sr_score` â€” Self-reflection score
- `penin_rho` â€” Contratividade (must be < 1)
- `penin_ece` â€” Expected Calibration Error
- `penin_rho_bias` â€” Bias ratio

### Dashboards (Grafana)

- **PENIN-Î© Overview**: Real-time Lâˆ, CAOS+, SR-Î©âˆ, Ï
- **Ethics & Safety**: ECE, Ï_bias, gate failures
- **Performance**: Latency, throughput, cost
- **Infrastructure**: CPU, memory, network

### Logs (Loki) & Traces (Tempo)

Full observability stack with distributed tracing and log aggregation.

[â†’ See deployment guide](operations/deployment.md)

---

## Roadmap

### v1.0.0 (Current Goal â€” 30 days)
- âœ… 15 core mathematical equations implemented
- âœ… SOTA P1 integrations (NextPy, Metacog, SpikingJelly)
- âœ… 57 critical tests passing (100%)
- ğŸš§ Complete documentation
- ğŸš§ Security & compliance (SBOM, SCA, signing)
- ğŸš§ Full observability stack

### v1.1.0 (60 days)
- SOTA P2 integrations (goNEAT, Mammoth, SymbolicAI)
- Property-based testing (Hypothesis)
- Advanced observability (OpenTelemetry)

### v1.2.0 (90 days)
- SOTA P3 integrations (midwiving-ai, OpenCog, SwarmRL)
- Multi-agent orchestration
- GPU acceleration

[â†’ See full roadmap](roadmap.md)

---

## Contributing

We welcome contributions! See our [Contributing Guide](../CONTRIBUTING.md) and [Code of Conduct](../CODE_OF_CONDUCT.md).

### Development Setup

```bash
pip install -e ".[dev]"
pytest tests/ -v
ruff check .
mypy penin/
```

---

## License

This project is licensed under the **Apache License 2.0** - see the [LICENSE](../LICENSE) file.

---

## Acknowledgments

- **SOTA Research Community**: NextPy, SpikingJelly, Metacognitive-Prompting authors
- **Open Source Tools**: PyTorch, Pydantic, FastAPI, Pytest, Prometheus, Grafana
- **Mathematical Foundations**: Evolutionary computation, control theory, fail-safe engineering
- **Ethical AI Principles**: Î£EA/LO-14, transparency, auditability

---

<div style="text-align: center; margin: 3rem 0;">
  <h2>ğŸŒŸ PENIN-Î©: World's First Open-Source IAÂ³ Framework ğŸŒŸ</h2>
  <p><strong>Adaptive â€¢ Auto-Recursive â€¢ Self-Evolving â€¢ Self-Aware â€¢ Ethically Bounded</strong></p>
</div>
